<div modal="showModal" close="cancel()">
    <div class="panel-heading">Study form</div>
    <div class="panel-body">
        <form class="form-horizontal" name="addStudyForm">
            <div class="form-group" ng-class="{ 'has-error': addStudyForm.study_id.$touched && addStudyForm.study_id.$invalid }">
                <label class="control-label col-sm-2" for="study_id">ID:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="study_id" name="study_id"
                           required="true" ng-minlength="3" study-id
                           placeholder="Enter id" ng-model="study.id">
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-sm-2" for="study_name">Name:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="study_name" name="study_name"
                           required="true" ng-minlength="5"
                           placeholder="Enter name" ng-model="study.name">
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button type="submit" class="btn btn-default" ng-click="cancel()">Cancel</button>
                    <button type="submit" class="btn btn-default" ng-click="handleDeleteStudy()" ng-show="!is_new" >Delete</button>
                    <button type="submit" class="btn btn-primary" ng-click="handleAddStudy()" ng-disabled="!addStudyForm.$valid">Save</button>
                </div>
            </div>
        </form>
    </div>
    <div class="panel-footer">
        <p class="text-danger" ng-if="addStudyForm.study_id.$touched && addStudyForm.study_id.$error.required"> ID field is required</p>
        <p class="text-danger" ng-if="addStudyForm.study_id.$touched && addStudyForm.study_id.$error.minlength"> ID field should be at least 3 characters</p>
        <p class="text-danger" ng-if="addStudyForm.study_id.$touched && addStudyForm.study_id.$error.idExistsValidator"> ID already being used</p>
        <p class="text-danger" ng-if="addStudyForm.study_name.$touched && addStudyForm.study_name.$error.required"> Name field is required</p>
        <p class="text-danger" ng-if="addStudyForm.study_name.$touched && addStudyForm.study_name.$error.minlength"> Name field should be at least 5 characters</p>
    </div>
</div>